(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{43:function(e,t,r){},69:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(16),i=r.n(a),s=(r(43),r(1)),o=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"Weather App"})})},j=r(4),d=r(15),l=r.n(d),u=r(21),h=r(25),b=r(5),p={weather:[],weekWeather:[],input:"",error:!1},O=function(e){return{type:"CHANGE_VALUE",payload:e}},m=r(22),x=r.n(m),f=function(){var e=Object(j.c)((function(e){return e.reducer.input})),t=Object(j.c)((function(e){return e.reducer.error})),r=Object(j.c)((function(e){return e.reducer.weather})),c=Object(j.c)((function(e){return e.reducer.weekWeather})),n=Object(j.b)(),a=function(t){var a;t.preventDefault(),""!==e.trim()&&r.every((function(t){return t.name.toLowerCase()!==e.toLowerCase()}))&&c.filter((function(t){return t.city.name.toLowerCase()!==e.toLowerCase()}))&&(n(function(e){return function(){var t=Object(u.a)(l.a.mark((function t(r){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&lang=ru&appid=82e17534f531bddc0561bcda2bdc6dec"));case 3:200===(c=t.sent).status?r({type:"ADD_WEATHER",payload:c.data}):r({type:"ADD_ERROR"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({type:"ADD_ERROR"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e)),n((a=e,function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(a,"&lang=ru&units=metric&appid=82e17534f531bddc0561bcda2bdc6dec"));case 3:200===(r=e.sent).status?t({type:"ADD_WEEK_WEATHER",payload:r.data}):t({type:"ADD_ERROR"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),n(O("")))};return Object(s.jsxs)("form",{onSubmit:function(e){return a(e)},children:[t?Object(s.jsx)("p",{children:"incorrect value"}):null,Object(s.jsx)("input",{value:e,style:t?{border:"2px solid red"}:{border:"none"},onChange:function(e){return n(O(e.target.value))},placeholder:"enter the country"}),Object(s.jsx)("button",{type:"submit",children:"search"})]})},E=r(13),w=r(70),v=function(){var e=Object(j.c)((function(e){return e.reducer.weather})),t=Object(j.b)();return Object(s.jsx)("div",{className:"grid",children:e.map((function(e){return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("h3",{children:e.name}),Object(s.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),alt:e.name}),Object(s.jsxs)("p",{children:["today: ",Math.floor(1*e.main.temp)/1,"\xb0C"]}),Object(s.jsxs)("div",{className:"btn-cover",children:[Object(s.jsx)("button",{className:"delete",onClick:function(){t({type:"DELETE_WEATHER",payload:e.name}),t(function(e){return{type:"REMOVE_WEEK_WEATHER",payload:e}}(e.name)),t({type:"REMOVE_ERROR"})},children:"delete"}),Object(s.jsx)(E.b,{to:"/".concat(e.name),children:Object(s.jsx)("button",{onClick:function(){return t({type:"REMOVE_ERROR"})},children:"learn more"})})]})]},Object(w.a)())}))})},y=function(){return Object(s.jsx)(v,{})},R=function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(o,{}),Object(s.jsx)(f,{}),Object(s.jsx)(y,{})]})},g=r(11),_=r(36),A=r(37),W=Object(g.combineReducers)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WEATHER":return Object(b.a)(Object(b.a)({},e),{},{weather:[].concat(Object(h.a)(e.weather),[t.payload]),error:!1});case"DELETE_WEATHER":return Object(b.a)(Object(b.a)({},e),{},{weather:e.weather.filter((function(e){return e.name!==t.payload})),error:!1});case"CHANGE_VALUE":return Object(b.a)(Object(b.a)({},e),{},{input:t.payload,error:!1});case"ADD_WEEK_WEATHER":return Object(b.a)(Object(b.a)({},e),{},{weekWeather:[].concat(Object(h.a)(e.weekWeather),[t.payload]),error:!1});case"REMOVE_WEEK_WEATHER":return Object(b.a)(Object(b.a)({},e),{},{weekWeather:e.weekWeather.filter((function(e){return e.city.name!==t.payload})),error:!1});case"ADD_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:!0});case"REMOVE_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:!1});default:return e}}}),C=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{},D=Object(g.createStore)(W,C,Object(_.composeWithDevTools)(Object(g.applyMiddleware)(A.a))),N=r(3),k=function(e){var t=e.nameCity,r=Object(j.c)((function(e){return e.reducer.weekWeather})).filter((function(e){return e.city.name===t}))[0].list;return Object(s.jsx)(s.Fragment,{children:r.map((function(e){var t=e.dt_txt.slice(0,4),r=e.dt_txt.slice(5,7),c=e.dt_txt.slice(8,10),n=1*e.dt_txt.slice(11,13);return Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("h3",{children:"".concat(n,":00 - ").concat(c,"/").concat(r,"/").concat(t)}),Object(s.jsxs)("p",{children:[Math.floor(1*e.main.temp)/1,"\xb0C"]}),Object(s.jsxs)("div",{className:"flex",children:[Object(s.jsxs)("p",{children:["min: ",Math.floor(e.main.temp_min),"\xb0C"]}),Object(s.jsxs)("p",{children:["max: ",Math.floor(e.main.temp_max),"\xb0C"]})]})]},Object(w.a)())}))})},M=function(e){var t=e.nameCity,r=Object(j.c)((function(e){return e.reducer.weather})).filter((function(e){return e.name===t})),c=r[0].main;return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(o,{}),Object(s.jsx)(E.b,{to:"/",children:Object(s.jsx)("button",{className:"home",children:"Go home"})}),Object(s.jsxs)("div",{className:"main-content",children:[Object(s.jsx)("h2",{children:r[0].name}),Object(s.jsxs)("div",{className:"flex card-info",children:[Object(s.jsxs)("div",{className:"card-info",children:[Object(s.jsx)("h4",{children:r[0].weather[0].main}),Object(s.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(r[0].weather[0].icon,".png"),alt:r[0].name}),Object(s.jsx)("p",{children:r[0].weather[0].description})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("h4",{children:["temp: ",Math.floor(c.temp),"\xb0C"]}),Object(s.jsxs)("p",{children:["feels like: ",Math.floor(c.feels_like)]}),Object(s.jsxs)("p",{children:["temp max: ",Math.floor(c.temp_max),"\xb0C"]}),Object(s.jsxs)("p",{children:["temp min: ",Math.floor(c.temp_min),"\xb0C"]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:["humidity: ",c.humidity]}),Object(s.jsxs)("p",{children:["pressure: ",c.pressure]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:"wind:"}),Object(s.jsxs)("p",{children:["deg: ",r[0].wind.deg]}),Object(s.jsxs)("p",{children:["speed: ",r[0].wind.speed]})]})]}),Object(s.jsx)("h5",{className:"weather-title",children:"weather for the near future"}),Object(s.jsx)("div",{className:"grid",children:Object(s.jsx)(k,{nameCity:t})})]})]})};D.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(D.getState()))})),i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(j.a,{store:D,children:Object(s.jsx)(E.a,{children:Object(s.jsxs)(N.c,{children:[Object(s.jsx)(N.a,{exact:!0,path:"/",component:R}),Object(s.jsx)(N.a,{path:"/:id",render:function(e){var t=e.match.params.id;return Object(s.jsx)(M,{nameCity:t})}})]})})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.3f56072b.chunk.js.map